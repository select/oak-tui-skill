{"id":"oak-tui-skill-06t","title":"Fix lint errors in tmux-manager.ts","description":"## Lint Errors\n\n### Unused functions\n- getWindowPanes (line 128)\n- ensureBackgroundWindow (line 311)\n\n### Unused parameter\n- projectPath in createPaneAtPath() (line 326)\n\n## Fix\nRemove unused functions or prefix with underscore. Prefix unused param with underscore.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:22:10.302678165+01:00","updated_at":"2026-02-17T00:24:19.019676284+01:00","closed_at":"2026-02-17T00:24:19.019676284+01:00"}
{"id":"oak-tui-skill-1w7","title":"Rename data directory from git-worktree-manager to oak-tui","description":"## Overview\n\nRename the application data directory from `~/.local/share/git-worktree-manager` to `~/.local/share/oak-tui` to better reflect the project's branding.\n\n## Current State\n\nThe data directory path `git-worktree-manager` is used in **16 locations** across the codebase:\n\n### Code Files (10 occurrences)\n1. `scripts/worktree-tui.ts:94` - DEBUG_LOG_PATH constant\n2. `scripts/worktree-tui.ts:112` - DATA_DIR constant\n3. `scripts/lib/socket-manager.ts:8` - DATA_DIR constant\n4. `scripts/lib/theme-manager.ts:8` - DATA_DIR constant\n5. `scripts/lib/project-manager.ts:9` - DATA_DIR constant\n6. `scripts/lib/tmux-manager.ts:10` - DATA_DIR constant\n7. `scripts/components/issue-popup.ts:18` - hardcoded path\n8. `scripts/launch.sh:7` - SOCKET_PATH variable\n9. `package.json:2` - package name\n10. `bun.lock:6` - package name reference\n\n### Documentation Files (6 occurrences)\n11. `AGENTS.md:32` - debug log path example\n12. `AGENTS.md:199` - data storage documentation\n13. `AGENTS.md:237` - debug log path example\n14. `SKILL.md:13` - DATA_FILE path\n15. `SKILL.md:91` - debug log documentation\n16. `SKILL.md:94` - debug log path example\n\n## Existing Data Files\n\nThe directory `~/.local/share/git-worktree-manager/` currently contains:\n- `recent-projects.json` (190 bytes) - recent project history\n- `ui-state.json` (29 bytes) - UI state (active tab, etc.)\n- `background-panes.json` (219 bytes) - tmux pane tracking\n- `config.json` (25 bytes) - configuration\n- `debug.log` (422 KB) - debug logs\n- `tui.sock` - Unix socket for single-instance enforcement\n\n## Required Changes\n\n### 1. Code Updates\nReplace all occurrences of `git-worktree-manager` with `oak-tui` in:\n- `scripts/worktree-tui.ts` (2 occurrences)\n- `scripts/lib/socket-manager.ts` (1 occurrence)\n- `scripts/lib/theme-manager.ts` (1 occurrence)\n- `scripts/lib/project-manager.ts` (1 occurrence)\n- `scripts/lib/tmux-manager.ts` (1 occurrence)\n- `scripts/components/issue-popup.ts` (1 occurrence)\n- `scripts/launch.sh` (1 occurrence)\n- `package.json` (1 occurrence - package name)\n\n### 2. Documentation Updates\nUpdate all references in:\n- `AGENTS.md` (3 occurrences)\n- `SKILL.md` (3 occurrences)\n\n### 3. Lock File\n- `bun.lock` will be automatically updated when package.json changes\n\n### 4. Data Migration Strategy\n\n**Option A: Automatic Migration (Recommended)**\nAdd migration logic to check for old directory and move data:\n```typescript\nconst OLD_DATA_DIR = join(homedir(), \".local\", \"share\", \"git-worktree-manager\");\nconst NEW_DATA_DIR = join(homedir(), \".local\", \"share\", \"oak-tui\");\n\nif (existsSync(OLD_DATA_DIR) \u0026\u0026 !existsSync(NEW_DATA_DIR)) {\n  renameSync(OLD_DATA_DIR, NEW_DATA_DIR);\n  debugLog(\"Migrated data directory to oak-tui\");\n}\n```\n\n**Option B: Manual Migration**\nDocument migration steps for users:\n```bash\nmv ~/.local/share/git-worktree-manager ~/.local/share/oak-tui\n```\n\n**Option C: Fresh Start**\nSimply change the path and let users start fresh (loses history)\n\n## Implementation Checklist\n\n- [ ] Update all code file paths (8 TypeScript/shell files)\n- [ ] Update package.json name field\n- [ ] Run `bun install` to update bun.lock\n- [ ] Update documentation files (AGENTS.md, SKILL.md)\n- [ ] Implement data migration strategy (choose Option A, B, or C)\n- [ ] Test with existing data directory\n- [ ] Test with fresh installation (no existing directory)\n- [ ] Verify socket path works correctly\n- [ ] Verify all data files are accessible after migration\n- [ ] Update any symlinks or references in ~/.config/opencode/skills/\n\n## Testing Scenarios\n\n1. **Existing user with data**: Verify migration preserves all files\n2. **Fresh install**: Verify new directory is created correctly\n3. **Socket functionality**: Verify single-instance enforcement still works\n4. **Data persistence**: Verify recent projects, UI state, themes persist\n5. **Debug logging**: Verify debug logs write to new location\n\n## Notes\n\n- The Unix socket (`tui.sock`) is ephemeral and recreated on each launch\n- Debug logs can be large (422 KB in current installation) - consider rotation\n- Background panes tracking may reference old paths internally - verify after migration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-17T01:43:00.672237831+01:00","updated_at":"2026-02-17T01:45:31.684865495+01:00","closed_at":"2026-02-17T01:45:31.684865495+01:00"}
{"id":"oak-tui-skill-3cq","title":"Create renderBeads() UI function for vertical kanban layout","description":"## Summary\nCreate the UI rendering function for displaying beads issues in a vertical kanban-style layout.\n\n## File Location\n`scripts/lib/ui-renderer.ts`\n\n## Function Signature\n```typescript\nexport function renderBeads(\n  renderer: CliRenderer,\n  contentScroll: ScrollBoxRenderable,\n  groupedIssues: GroupedIssues,\n  renderCounter: number,\n  selectedIndex: number,\n  onSelectIssue: (issue: BeadsIssue) =\u003e void,\n): void\n```\n\n## Layout Structure\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â•â• Blocked (0) â•â•           â”‚  \u003c- Section header\nâ”‚ (no blocked issues)         â”‚  \u003c- Empty state\nâ”‚                             â”‚\nâ”‚ â•â• Ready (2) â•â•             â”‚\nâ”‚ [Feature] [Medium] id-xxx   â”‚  \u003c- Issue row\nâ”‚   Issue title truncated...  â”‚\nâ”‚ [Bug] [High] id-yyy         â”‚\nâ”‚   Another issue title...    â”‚\nâ”‚                             â”‚\nâ”‚ â•â• In Progress (1) â•â•       â”‚\nâ”‚ [Task] [Medium] id-zzz      â”‚\nâ”‚   Working on something...   â”‚\nâ”‚                             â”‚\nâ”‚ â•â• Closed (3) â•â•            â”‚\nâ”‚ [Feature] [Low] id-aaa      â”‚\nâ”‚   Completed feature...      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Section Headers\n- Use `â•â• Status (count) â•â•` format\n- Color: Primary accent (#fab283)\n- Add 1 line spacing between sections\n\n## Issue Card Layout\nEach issue is 2 lines:\n1. `[Type] [Priority] issue-id`\n2. `  Title (indented, truncated to fit)`\n\n## Badge Colors\n| Type | Color | Display |\n|------|-------|---------|\n| feature | #7fd88f | [Feature] |\n| bug | #e06c75 | [Bug] |\n| task | #5c9cf5 | [Task] |\n| epic | #c678dd | [Epic] |\n| chore | #808080 | [Chore] |\n\n| Priority | Color | Display |\n|----------|-------|---------|\n| 0 | #e06c75 | [Critical] |\n| 1 | #fab283 | [High] |\n| 2 | #e5c07b | [Medium] |\n| 3 | #5c9cf5 | [Low] |\n| 4 | #808080 | [Lowest] |\n\n## Selection Highlighting\n- Selected issue gets background: #3a3a3a\n- Track selection across all sections (flat index)\n\n## Mouse Handlers\n- onMouseDown: Select and trigger onSelectIssue callback\n- onMouseOver: Highlight background\n- onMouseOut: Remove highlight\n\n## Parent Issue\nThis is part of: Add Beads issues tab to Oak TUI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T15:37:42.373538848+01:00","updated_at":"2026-02-16T15:43:28.487533502+01:00","closed_at":"2026-02-16T15:43:28.487533502+01:00","dependencies":[{"issue_id":"oak-tui-skill-3cq","depends_on_id":"oak-tui-skill-6s2","type":"blocks","created_at":"2026-02-16T15:37:58.772691461+01:00","created_by":"daemon"}]}
{"id":"oak-tui-skill-3e5","title":"Create beads-manager.ts for fetching and parsing beads issues","description":"## Summary\nCreate a new module to handle fetching and parsing beads issues data for the Beads tab.\n\n## File Location\n`scripts/lib/beads-manager.ts`\n\n## Functions to Implement\n\n### 1. fetchBeadsIssues()\n```typescript\nexport function fetchBeadsIssues(): BeadsIssue[] {\n  // Run: bd list --json\n  // Parse JSON output\n  // Return array of BeadsIssue\n}\n```\n\n### 2. groupIssuesByStatus()\n```typescript\nexport function groupIssuesByStatus(issues: BeadsIssue[]): GroupedIssues {\n  // Group into: blocked, ready (open), in_progress, closed\n  // Note: 'ready' = open issues with no blockers\n  // May need to use 'bd ready --json' for accurate ready list\n}\n```\n\n### 3. getPriorityLabel()\n```typescript\nexport function getPriorityLabel(priority: number): string {\n  // 0 -\u003e 'Critical', 1 -\u003e 'High', 2 -\u003e 'Medium', 3 -\u003e 'Low', 4 -\u003e 'Lowest'\n}\n```\n\n## Data Commands\n- `bd list --json` - All issues\n- `bd ready --json` - Ready issues (open, no blockers)\n- `bd list --status=blocked --json` - Blocked issues\n- `bd list --status=in_progress --json` - In progress issues\n- `bd list --status=closed --limit=10 --json` - Recent closed issues\n\n## Error Handling\n- Handle case where `bd` command is not available\n- Handle empty/invalid JSON output\n- Return empty arrays on error (don't crash TUI)\n\n## Parent Issue\nThis is part of: Add Beads issues tab to Oak TUI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T15:37:32.510022208+01:00","updated_at":"2026-02-16T15:43:28.486589307+01:00","closed_at":"2026-02-16T15:43:28.486589307+01:00","dependencies":[{"issue_id":"oak-tui-skill-3e5","depends_on_id":"oak-tui-skill-6s2","type":"blocks","created_at":"2026-02-16T15:37:58.744914874+01:00","created_by":"daemon"}]}
{"id":"oak-tui-skill-3lm","title":"Use MarkdownRenderable for issue description in popup","description":"## Problem\n\nThe issue popup displays the description as plain text without any markdown formatting or syntax highlighting. Markdown elements like headers, code blocks, bold/italic text, and lists are shown as raw text.\n\n## Current Behavior\n\nIn `scripts/components/issue-popup.ts` (lines 189-207), the description is rendered using plain `TextRenderable`:\n\n```typescript\nconst descLines = issue.description.split(\"\\n\");\ndescLines.forEach((line, idx) =\u003e {\n  const lineText = new TextRenderable(renderer, {\n    id: \\`popup-desc-line-${renderCounter}-${idx}\\`,\n    content: line || \" \",\n    fg: theme.colors.text,\n  });\n  parent.add(lineText);\n});\n```\n\nThis just splits the description by newlines and renders each line as plain text.\n\n## Desired Behavior\n\nUse `MarkdownRenderable` from @opentui/core to properly render markdown with syntax highlighting.\n\n## Implementation Approach\n\n1. Import `MarkdownRenderable` from `@opentui/core`\n2. Create a `SyntaxStyle` instance (can use `SyntaxStyle.create()` or `SyntaxStyle.fromTheme()`)\n3. Replace the TextRenderable loop with a single MarkdownRenderable:\n\n```typescript\nimport { MarkdownRenderable, SyntaxStyle } from \"@opentui/core\";\n\n// In renderIssuePopup:\nif (issue.description) {\n  const descLabel = new TextRenderable(renderer, {\n    id: \\`popup-desc-label-${renderCounter}\\`,\n    content: \"Description\",\n    fg: theme.colors.primary,\n  });\n  parent.add(descLabel);\n\n  const syntaxStyle = SyntaxStyle.create(); // or fromTheme() with custom theme\n  const descMarkdown = new MarkdownRenderable(renderer, {\n    id: \\`popup-desc-md-${renderCounter}\\`,\n    content: issue.description,\n    syntaxStyle: syntaxStyle,\n    conceal: true, // Hide markdown syntax characters\n  });\n  parent.add(descMarkdown);\n}\n```\n\n## MarkdownRenderable API\n\nFrom `@opentui/core`:\n- `content: string` - The markdown content\n- `syntaxStyle: SyntaxStyle` - Required, controls syntax highlighting colors\n- `conceal?: boolean` - Hide markdown syntax (default: true)\n- `streaming?: boolean` - For incremental updates\n- `treeSitterClient?: TreeSitterClient` - Optional for code block highlighting\n\n## Files to Modify\n\n- `scripts/components/issue-popup.ts` - Replace TextRenderable loop with MarkdownRenderable (lines 189-207)\n\n## Notes\n\n- May need to create a theme-aware SyntaxStyle that uses the app's color scheme\n- Consider caching the SyntaxStyle instance to avoid recreating it on each render","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T23:17:15.803521196+01:00","updated_at":"2026-02-16T23:18:58.627225456+01:00","closed_at":"2026-02-16T23:18:58.627225456+01:00"}
{"id":"oak-tui-skill-4qc","title":"Board tab: Make issue text fill full width","description":"## Summary\nThe issue cards in the Board tab don't fill the full width of the bordered sections, leaving empty space on the right side.\n\n## Current Behavior\n- Issue cards (badge line and title line) don't stretch to fill the section width\n- There's visible empty space between the text and the right border\n- The title gets truncated with \"...\" even though there's room for more text\n\n## Desired Behavior\n- Issue cards should fill the full width of the section box\n- Text should use the maximum available space\n- If text overflows to the right, it should be hidden (no wrapping, no ellipsis truncation mid-content)\n- Text simply gets cut off at the border edge\n\n## Root Cause\nThe issue card boxes likely don't have `width: \"100%\"` set, so they only take up as much space as their content needs.\n\n## Implementation\n\nIn `scripts/lib/ui-renderer.ts` in `renderBoard()`, ensure the issue card boxes have full width and overflow is hidden:\n\n```typescript\n// Issue card container\nconst issueCard = new BoxRenderable(renderer, {\n  id: `board-issue-${renderCounter}-${flatIndex}`,\n  width: \"100%\",  // \u003c-- Ensure this is set\n  flexDirection: \"column\",\n  overflow: \"hidden\",  // \u003c-- Hide overflow\n  // ...\n});\n\n// Badge line\nconst badgeLine = new BoxRenderable(renderer, {\n  id: `board-badges-${renderCounter}-${flatIndex}`,\n  width: \"100%\",  // \u003c-- Add this\n  flexDirection: \"row\",\n  gap: 1,\n});\n\n// Title text - remove manual truncation, let it overflow and hide\nconst titleText = new TextRenderable(renderer, {\n  id: `board-title-${renderCounter}-${flatIndex}`,\n  content: `  ${issue.title}`,  // \u003c-- Full title, no manual truncation\n  // ...\n});\n```\n\n## Files to Modify\n- `scripts/lib/ui-renderer.ts` - renderBoard() function\n\n## Acceptance Criteria\n- [ ] Issue cards fill the full width of the section box\n- [ ] Text uses maximum available horizontal space\n- [ ] Overflow text is hidden (cut off at border edge)\n- [ ] No manual \"...\" truncation - text just gets cut off naturally","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T15:50:45.466586838+01:00","updated_at":"2026-02-16T15:52:44.517894447+01:00","closed_at":"2026-02-16T15:52:44.517894447+01:00"}
{"id":"oak-tui-skill-54k","title":"Fix tsgolint errors in worktree-tui.ts","description":"## File: scripts/worktree-tui.ts (60 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to array/object params\n- strict-boolean-expressions: Handle nullable strings explicitly\n- prefer-nullish-coalescing: Use ?? instead of ||\n- no-unsafe-return: Type JSON.parse returns properly\n- no-base-to-string: Handle unknown types in String() calls\n\n### Key locations:\n- Line 76: debug(...args) param\n- Line 80: String(a) with unknown type\n- Line 93: JSON.parse unsafe return\n- Line 101: state param needs readonly\n- Line 116: setDebugFn callback param","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:11.346861574+01:00","updated_at":"2026-02-17T00:45:34.224619239+01:00","closed_at":"2026-02-17T00:45:34.224619239+01:00"}
{"id":"oak-tui-skill-6s2","title":"Add BeadsIssue and GroupedIssues types to types.ts","description":"## Summary\nAdd TypeScript interfaces for beads issue data structures.\n\n## File Location\n`scripts/lib/types.ts`\n\n## Types to Add\n\n### BeadsIssue Interface\n```typescript\nexport interface BeadsIssue {\n  id: string;\n  title: string;\n  description?: string;\n  status: BeadsStatus;\n  priority: number; // 0-4\n  issue_type: BeadsType;\n  created_at: string;\n  updated_at: string;\n  dependency_count: number;\n  dependent_count: number;\n  assignee?: string;\n  labels?: string[];\n}\n```\n\n### BeadsStatus Type\n```typescript\nexport type BeadsStatus = \"open\" | \"in_progress\" | \"blocked\" | \"closed\";\n```\n\n### BeadsType Type\n```typescript\nexport type BeadsType = \"task\" | \"bug\" | \"feature\" | \"epic\" | \"chore\";\n```\n\n### GroupedIssues Interface\n```typescript\nexport interface GroupedIssues {\n  blocked: BeadsIssue[];\n  ready: BeadsIssue[];      // open with no blockers\n  in_progress: BeadsIssue[];\n  closed: BeadsIssue[];\n}\n```\n\n### Update TabId\n```typescript\nexport type TabId = \"projects\" | \"files\" | \"themes\" | \"beads\";\n```\n\n## Parent Issue\nThis is part of: Add Beads issues tab to Oak TUI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T15:37:46.468333062+01:00","updated_at":"2026-02-16T15:43:28.483718516+01:00","closed_at":"2026-02-16T15:43:28.483718516+01:00"}
{"id":"oak-tui-skill-71w","title":"Fix lint errors in ui-renderer.ts","description":"## Lint Errors\n\n### Unused imports (lines 13, 16, 17, 25)\n- getPriorityLabel\n- getTypeIcon  \n- capitalize\n- ensureChildrenLoaded\n\n### Unused variable (line 616)\n- hasChildren\n\n## Fix\nRemove unused imports and prefix unused variable with underscore.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:22:09.017309306+01:00","updated_at":"2026-02-17T00:24:19.01880798+01:00","closed_at":"2026-02-17T00:24:19.01880798+01:00"}
{"id":"oak-tui-skill-801","title":"Add Shift+Tab to cycle tabs in reverse direction","description":"Currently Tab key cycles forward through tabs (Projects â†’ Files â†’ Board â†’ Projects). Add Shift+Tab to cycle in reverse direction (Projects â†’ Board â†’ Files â†’ Projects). Implementation: Add else-if branch in keyboard handler checking for shift modifier with tab key, use (currentIndex - 1 + TABS.length) % TABS.length for reverse cycling.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T16:13:53.578954921+01:00","updated_at":"2026-02-16T16:19:37.474520135+01:00","closed_at":"2026-02-16T16:19:37.474520135+01:00"}
{"id":"oak-tui-skill-8bt","title":"Allow deleting projects from the recent projects list","description":"## Summary\nAdd the ability to remove/delete projects from the recent projects list in the Projects tab.\n\n## Current Behavior\n- Projects are stored in `~/.local/share/git-worktree-manager/recent-projects.json`\n- Projects can be added to the list (automatically when accessed)\n- There is no way to remove projects from the list\n\n## Desired Behavior\n- Users should be able to delete/remove projects from the recent projects list\n- This should be accessible via keyboard (e.g., `d` or `Delete` key)\n- Optionally, a visual delete button/icon could be added to the UI\n\n## Implementation Notes\n\n### 1. Add delete function in `project-manager.ts`\nCreate a `removeRecentProject(projectPath: string)` function that:\n- Loads current projects from JSON\n- Filters out the project to delete\n- Writes the updated list back to the file\n\n### 2. Add keyboard binding in `worktree-tui.ts`\nIn the keyboard handler (around line 324), add a delete key binding:\n- Key: `d` or `Delete`\n- Only works when a project header is selected (not worktrees)\n- After deletion, reload the project list and adjust selectedIndex\n\n### 3. Update footer help text\nAdd delete key hint to the footer (e.g., `d: remove`)\n\n### 4. Consider confirmation (optional)\nSince delete is destructive, consider:\n- A simple confirmation (press `d` twice)\n- Or visual feedback before deletion\n\n## Relevant Files\n- `scripts/lib/project-manager.ts` - Add `removeRecentProject()` function (near line 131)\n- `scripts/worktree-tui.ts` - Add keyboard binding (around line 324-384)\n- `scripts/lib/ui-renderer.ts` - Optional: Add delete button to project header (around line 268-325)\n- Footer help text in `worktree-tui.ts` (around line 159-203)\n\n## Acceptance Criteria\n- [ ] User can delete a project from the list using keyboard\n- [ ] Deleted projects are removed from `recent-projects.json`\n- [ ] Selection index is properly adjusted after deletion\n- [ ] Footer shows the delete keybinding hint\n- [ ] Deleting the last project shows empty state","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T15:13:39.278457548+01:00","updated_at":"2026-02-16T16:13:16.407011547+01:00","closed_at":"2026-02-16T16:13:16.407011547+01:00"}
{"id":"oak-tui-skill-9lg","title":"Fix bold property error in ui-renderer.ts","description":"## Problem\n\nTypeScript error in `scripts/lib/ui-renderer.ts` at line 177:\n\n```\nError [175:5] Object literal may only specify known properties, and 'bold' does not exist in type 'TextOptions'.\n```\n\n## Current Code\n\n```typescript\nconst titleText = new TextRenderable(renderer, {\n  id: \"title-text\",\n  content: \"ğŸŒ³ Oak\",\n  fg: theme.colors.textMuted,\n  bold: true,  // \u003c-- Error: 'bold' does not exist in TextOptions\n  flexShrink: 0,\n});\n```\n\n## Root Cause\n\nSame issue as previously fixed in worktree-tui.ts (oak-tui-skill-rk5):\n- TextRenderable's TextOptions does not have a `bold` property\n- Bold styling must be achieved via the `attributes` bitmask property\n- Use `createTextAttributes({ bold: true })` helper function\n\n## Solution\n\nReplace `bold: true` with `attributes: createTextAttributes({ bold: true })`:\n\n```typescript\nimport { createTextAttributes } from \"@opentui/core\";\n\nconst titleText = new TextRenderable(renderer, {\n  id: \"title-text\",\n  content: \"ğŸŒ³ Oak\",\n  fg: theme.colors.textMuted,\n  attributes: createTextAttributes({ bold: true }),\n  flexShrink: 0,\n});\n```\n\n## Files to Modify\n\n- `scripts/lib/ui-renderer.ts` (line 177)\n\n## Related\n\n- oak-tui-skill-rk5 (closed) - Same issue was fixed in worktree-tui.ts","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T23:30:33.16180687+01:00","updated_at":"2026-02-16T23:45:11.764796331+01:00","closed_at":"2026-02-16T23:45:11.764796331+01:00"}
{"id":"oak-tui-skill-afu","title":"Add Ctrl+Left/Right and h/l keybindings for tab navigation","description":"## Current State\n\nTab navigation currently supports:\n- **Tab** - cycle forward through tabs\n- **Shift+Tab** - cycle backward through tabs  \n- **1-4** - direct tab selection by number\n\n## Requested Enhancement\n\nAdd additional keybindings for tab navigation to provide more intuitive options:\n\n### New Keybindings\n- **Ctrl+Left** / **Ctrl+h** - navigate to previous tab\n- **Ctrl+Right** / **Ctrl+l** - navigate to next tab\n\n### Implementation Details\n\n**Location**: `scripts/worktree-tui.ts`\n\n**Current Tab Logic** (lines 590-609):\n- Shift+Tab cycles backward (lines 590-599)\n- Tab cycles forward (lines 600-609)\n- Uses `TABS.findIndex()` to find current tab\n- Wraps around using modulo arithmetic\n\n**Required Changes**:\n1. Add keyboard event handlers for Ctrl+Left, Ctrl+Right, Ctrl+h, Ctrl+l\n2. Check `key.ctrl` modifier in the keypress handler\n3. Reuse existing tab cycling logic (same as Tab/Shift+Tab)\n4. Ensure proper wrapping behavior\n\n**Key Event Structure**:\n```typescript\nkeyInput.on('keypress', (key: Readonly\u003cKeyEvent\u003e) =\u003e {\n  const keyName: string = key.name;\n  // key.ctrl - boolean for Ctrl modifier\n  // key.shift - boolean for Shift modifier\n})\n```\n\n**Tab State Management**:\n- `activeTab` variable holds current tab (type: TabId)\n- `saveUIState({ activeTab })` persists state to `~/.local/share/git-worktree-manager/ui-state.json`\n- `selectedIndex = 0` resets selection when switching tabs\n- `updateContent()` re-renders UI\n\n### Testing Checklist\n- [ ] Ctrl+Left navigates to previous tab with wrapping\n- [ ] Ctrl+Right navigates to next tab with wrapping\n- [ ] Ctrl+h navigates to previous tab (vim-style)\n- [ ] Ctrl+l navigates to next tab (vim-style)\n- [ ] Tab state persists across navigation\n- [ ] Selection index resets when switching tabs\n- [ ] All four tabs (Projects, Board, Files, Themes) are accessible","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T01:22:14.827517071+01:00","updated_at":"2026-02-17T01:26:07.82173234+01:00","closed_at":"2026-02-17T01:26:07.82173234+01:00"}
{"id":"oak-tui-skill-c2g","title":"Unify keyboard navigation across projects, files, and board views","description":"## Problem\n\nKeyboard navigation is inconsistent across the three views (projects, files, board):\n\n### Current State\n\n| Feature | Projects View | Files View | Board View |\n|---------|---------------|------------|------------|\n| j/k navigation | âœ… Yes | âŒ No | âœ… Yes |\n| Arrow key navigation | âœ… Yes | âŒ No | âœ… Yes |\n| h/l for collapse/expand | âœ… Yes | âŒ No | âŒ No |\n| Arrow left/right | âœ… Yes | âŒ No | âŒ No |\n| selectedIndex tracking | âœ… Yes | âŒ No | âœ… Yes |\n| Visual selection highlight | âœ… Yes | âŒ No | âœ… Yes |\n| space/return action | âœ… Yes | âŒ No | âœ… Yes |\n| Search activation | âŒ No | Always active | âŒ No |\n| / for search | âŒ No | Stub only | âŒ No |\n\n### Key Issues\n\n1. **Files view has no keyboard navigation** - only mouse interaction works\n2. **Search in files is always on** - typing immediately filters, no explicit activation\n3. **Files view doesn't respect vim-style or arrow key navigation**\n4. **No visual selection indicator in files view**\n5. **Board view has j/k but NOT h/l for section navigation**\n6. **No search in projects or board views**\n\n## Desired Behavior\n\n### Unified Navigation\n- **j/k or Up/Down**: Move selection up/down\n- **h/l or Left/Right**: Collapse/expand (folders in files, projects in projects view)\n- **/**: Activate search mode (all views)\n- **Escape**: Exit search mode / clear search\n- **Enter/Space**: Activate selected item\n\n### Unified Search Component\nCreate a reusable search component that:\n- Lives at the bottom of the UI (consistent position across all views)\n- Activates with `/` in any view (projects, files, board)\n- Filters content contextually:\n  - **Projects view**: Filter by project name/path\n  - **Files view**: Filter by filename/path\n  - **Board view**: Filter by issue title/description\n- Shows search state visually (e.g., `/search query` or `ğŸ” query`)\n- Deactivates with Escape (clears query and exits search mode)\n- Enter confirms search and returns to navigation mode (keeps filter active)\n\n## Implementation Notes\n\n### New Component: `scripts/components/search-bar.ts`\nCreate a dedicated search component:\n```typescript\ninterface SearchBarProps {\n  isActive: boolean;\n  query: string;\n  placeholder?: string;  // e.g., \"Search projects...\", \"Search files...\"\n  onQueryChange: (query: string) =\u003e void;\n  onActivate: () =\u003e void;\n  onDeactivate: () =\u003e void;\n}\n\n// Renders a search bar at the bottom of the content area\n// Shows placeholder when inactive, input field when active\n```\n\n### Files to modify:\n- `scripts/worktree-tui.ts` - Add files keyboard handler, integrate search component\n- `scripts/lib/ui-renderer.ts` - Update renderFiles() to show selectedIndex, add search bar rendering\n- `scripts/components/file-tree.ts` - Add helper to get file at index\n\n### New files:\n- `scripts/components/search-bar.ts` - Reusable search bar component\n\n### State changes:\n- `searchMode: boolean` - Whether search input is active (global)\n- `searchQuery: string` - Current search query (already exists, make global)\n- `filesSelectedIndex: number` - Track selection in files view\n\n### Key code locations:\n- Projects navigation: worktree-tui.ts:430-509\n- Files handler (incomplete): worktree-tui.ts:554-565\n- Board navigation: worktree-tui.ts:510-553\n\n### Search filtering logic per view:\n- **Projects**: Filter `projectNodes` by `node.name` or `node.path`\n- **Files**: Filter `fileTree` by `node.name` (already partially implemented)\n- **Board**: Filter beads issues by `title` or `description`","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T22:00:31.324989623+01:00","updated_at":"2026-02-16T22:27:16.360606134+01:00","closed_at":"2026-02-16T22:27:16.360606134+01:00"}
{"id":"oak-tui-skill-c7u","title":"Fix tsgolint errors in file-tree.ts and issue-popup.ts","description":"## Files:\n- scripts/components/file-tree.ts (15 errors)\n- scripts/components/issue-popup.ts (11 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to node/nodes params\n- strict-boolean-expressions: Handle nullable numbers/strings\n- prefer-nullish-coalescing: Use ?? instead of ||\n\n### Key locations in file-tree.ts:\n- Line 122: node param\n- Line 131: nodes param\n- Line 168: score || 0\n\n### Key locations in issue-popup.ts:\n- Various readonly param issues","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:21.07623657+01:00","updated_at":"2026-02-17T00:45:34.220971082+01:00","closed_at":"2026-02-17T00:45:34.220971082+01:00"}
{"id":"oak-tui-skill-c9b","title":"Fix lint errors in worktree-tui.ts and beads-manager.ts","description":"## Lint Errors\n\n### worktree-tui.ts\n- Unused import 'basename' (line 8)\n- Unused param 'i' in TABS.forEach() (line 245)\n\n### beads-manager.ts\n- Unused var 'total' in getNextSectionStart() (line 167)\n- Unused var 'section' in getNextSectionStart() (line 178)\n\n## Fix\nRemove unused import. Prefix unused params/vars with underscore.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:22:13.183811151+01:00","updated_at":"2026-02-17T00:24:19.021231888+01:00","closed_at":"2026-02-17T00:24:19.021231888+01:00"}
{"id":"oak-tui-skill-etd","title":"Wire up Beads tab in worktree-tui.ts","description":"## Summary\nIntegrate the Beads tab into the main TUI application.\n\n## File Location\n`scripts/worktree-tui.ts`\n\n## Changes Required\n\n### 1. Add to TABS array (lines 158-162)\n```typescript\nconst TABS: { id: TabId; label: string }[] = [\n  { id: \"projects\", label: \"Projects\" },\n  { id: \"files\", label: \"Files\" },\n  { id: \"themes\", label: \"Themes\" },\n  { id: \"beads\", label: \"Beads\" },  // NEW\n];\n```\n\n### 2. Add state variables\n```typescript\nlet beadsIssues: GroupedIssues = { blocked: [], ready: [], in_progress: [], closed: [] };\n```\n\n### 3. Add to updateContent() function\n```typescript\n} else if (activeTab === \"beads\") {\n  // Fetch fresh data\n  beadsIssues = fetchAndGroupIssues();\n  renderBeads(\n    renderer,\n    ui.contentScroll,\n    beadsIssues,\n    renderCounter,\n    selectedIndex,\n    (issue) =\u003e {\n      // Handle issue selection (show details or open)\n    },\n  );\n}\n```\n\n### 4. Add keyboard handling\n```typescript\n} else if (activeTab === \"beads\") {\n  const totalItems = getTotalBeadsCount(beadsIssues);\n  \n  if (keyName === \"up\" || keyName === \"k\") {\n    selectedIndex = Math.max(0, selectedIndex - 1);\n    updateContent();\n  } else if (keyName === \"down\" || keyName === \"j\") {\n    selectedIndex = Math.min(totalItems - 1, selectedIndex + 1);\n    updateContent();\n  } else if (keyName === \"return\" || keyName === \"space\") {\n    // Open issue details or trigger action\n    const issue = getIssueAtIndex(beadsIssues, selectedIndex);\n    if (issue) {\n      // Show details or open in editor\n    }\n  } else if (keyName === \"r\") {\n    // Refresh issues\n    updateContent();\n  }\n}\n```\n\n### 5. Add imports\n```typescript\nimport { fetchAndGroupIssues, getIssueAtIndex, getTotalBeadsCount } from \"./lib/beads-manager\";\nimport { renderBeads } from \"./lib/ui-renderer\";\nimport type { GroupedIssues } from \"./lib/types\";\n```\n\n## Parent Issue\nThis is part of: Add Beads issues tab to Oak TUI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T15:37:54.238032901+01:00","updated_at":"2026-02-16T15:43:28.48872891+01:00","closed_at":"2026-02-16T15:43:28.48872891+01:00","dependencies":[{"issue_id":"oak-tui-skill-etd","depends_on_id":"oak-tui-skill-3e5","type":"blocks","created_at":"2026-02-16T15:37:58.802627308+01:00","created_by":"daemon"},{"issue_id":"oak-tui-skill-etd","depends_on_id":"oak-tui-skill-3cq","type":"blocks","created_at":"2026-02-16T15:37:58.834117399+01:00","created_by":"daemon"}]}
{"id":"oak-tui-skill-ht7","title":"Fix tsgolint errors in ui-renderer.ts","description":"## File: scripts/lib/ui-renderer.ts (56 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to array/object params\n- strict-boolean-expressions: Handle nullable values explicitly\n\n### Key locations:\n- Line 26: projectNodes param\n- Line 39: projectNodes param\n- Line 66-68: fileTree and expandedPaths params\n- Line 79-81: fileTree and expandedPaths params\n- Line 88: flatFiles[index] truthy check\n- Line 93: projectNodes param\n- Line 103, 122: result param in map callbacks\n- Line 111, 115: grouped and issues params\n- Line 154: renderer param","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:14.221651774+01:00","updated_at":"2026-02-17T00:45:34.223807641+01:00","closed_at":"2026-02-17T00:45:34.223807641+01:00"}
{"id":"oak-tui-skill-iet","title":"Show board issue details in popup with markdown rendering on Enter","description":"## Problem\n\nWhen pressing Enter on a board issue, nothing happens (just a debug log). Users need to see issue details without leaving the TUI.\n\n### Current State\n- Enter/Space on board issue only logs to debug: `debug(\"Activated issue:\", result.issue.id)`\n- Comment in code: `// TODO: Show issue details`\n- No popup/modal system exists in the codebase\n\n## Desired Behavior\n\nWhen pressing Enter on a board issue:\n1. Show a popup/modal overlay with the full issue details\n2. Render the issue description with **markdown highlighting**\n3. Press Escape to close the popup and return to board navigation\n\n### Popup Content\n- **Header**: Issue ID and title\n- **Metadata bar**: Status badge, priority, type, assignee\n- **Description**: Full markdown content with syntax highlighting\n- **Footer**: Timestamps (created, updated), dependency counts\n\n## Implementation Notes\n\n### OpenTUI has built-in MarkdownRenderable!\n\n`@opentui/core` includes `MarkdownRenderable` for markdown rendering:\n\n```typescript\nimport { MarkdownRenderable } from \"@opentui/core\"\n// Note: May need to import from \"@opentui/core/renderables/Markdown\"\n\nconst md = new MarkdownRenderable(renderer, {\n  id: \"issue-description\",\n  content: issue.description,\n  syntaxStyle: mySyntaxStyle,  // Required - for code block highlighting\n  conceal: true,               // Hide formatting markers (**, ##, etc.)\n  treeSitterClient?: client,   // Optional - for advanced syntax highlighting\n})\n```\n\n### MarkdownOptions interface:\n- `content: string` - Markdown text to render\n- `syntaxStyle: SyntaxStyle` - Required for code syntax highlighting\n- `conceal?: boolean` - Hide markdown formatting markers\n- `treeSitterClient?: TreeSitterClient` - Optional tree-sitter for code blocks\n- `streaming?: boolean` - For incremental updates\n\n### SyntaxStyle setup:\n```typescript\nimport { SyntaxStyle } from \"@opentui/core\"\n\n// Create from scratch\nconst syntaxStyle = SyntaxStyle.create()\nsyntaxStyle.setStyle(\"keyword\", { fg: parseColor(\"#fab283\"), bold: true })\nsyntaxStyle.setStyle(\"string\", { fg: parseColor(\"#7fd88f\") })\n// ... more styles\n\n// Or from theme\nconst syntaxStyle = SyntaxStyle.fromTheme(themeTokenStyles)\n```\n\n### Popup implementation using OpenTUI primitives:\n\n```typescript\n// Create modal overlay (add to renderer.root for overlay effect)\nconst modalOverlay = new BoxRenderable(renderer, {\n  id: \"modal-overlay\",\n  position: \"absolute\",\n  top: 0, left: 0,\n  width: \"100%\", height: \"100%\",\n  backgroundColor: \"rgba(0,0,0,0.5)\",  // Semi-transparent backdrop\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  zIndex: 100,\n})\n\n// Modal content box\nconst modalBox = new BoxRenderable(renderer, {\n  id: \"modal-content\",\n  width: \"80%\", height: \"80%\",\n  backgroundColor: \"#141414\",\n  border: true,\n  borderStyle: \"rounded\",\n  borderColor: \"#fab283\",\n  title: `${issue.id}: ${issue.title}`,\n  padding: 1,\n  flexDirection: \"column\",\n})\n\n// Scrollable content for long descriptions\nconst modalScroll = new ScrollBoxRenderable(renderer, {\n  id: \"modal-scroll\",\n  width: \"100%\",\n  flexGrow: 1,\n  scrollY: true,\n})\n\n// Markdown rendered description\nconst descriptionMd = new MarkdownRenderable(renderer, {\n  id: \"issue-description\",\n  content: issue.description || \"No description\",\n  syntaxStyle: syntaxStyle,\n  conceal: true,\n})\n\nmodalScroll.add(descriptionMd)\nmodalBox.add(modalScroll)\nmodalOverlay.add(modalBox)\nrenderer.root.add(modalOverlay)\n```\n\n### State changes needed:\n- `showIssuePopup: boolean` - Whether popup is visible\n- `selectedIssueForPopup: BeadsIssue | null` - Issue to display\n\n### Keyboard handling:\n- **Enter** on board issue â†’ `showIssuePopup = true`, fetch full issue details\n- **Escape** when popup shown â†’ `showIssuePopup = false`, remove overlay\n- **j/k or arrows** in popup â†’ scroll the description\n\n### Fetching full issue data:\nThe `BeadsIssue` from board may have truncated description. Use:\n```bash\nbd show \u003cissue-id\u003e --json\n```\nTo get full description content.\n\n### Files to modify:\n- `scripts/worktree-tui.ts` - Add popup state, keyboard handling, overlay rendering\n- `scripts/lib/ui-renderer.ts` - Add `renderIssuePopup()` function\n- `scripts/lib/types.ts` - Add popup-related types if needed\n\n### Key code locations:\n- Board Enter handler: worktree-tui.ts:521-525\n- Board rendering: ui-renderer.ts:601-731\n- BeadsIssue type: types.ts:62-75","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T22:04:20.907553862+01:00","updated_at":"2026-02-16T22:59:25.612247445+01:00","closed_at":"2026-02-16T22:59:25.612247445+01:00"}
{"id":"oak-tui-skill-ifq","title":"Board tab: Add borders around sections and remove badge brackets","description":"## Summary\nImprove the Board tab visual design by:\n1. Adding a border around each section (Blocked, Ready, In Progress, Closed)\n2. Removing square brackets from type and priority badges\n\n## Current Behavior\n- Sections use text-based headers: `â•â• Blocked (3) â•â•`\n- Badges display with brackets: `[Task] [Medium]`\n\n## Desired Behavior\n- Each section wrapped in a bordered box\n- Badges display without brackets: `Task Medium`\n\n## Implementation Details\n\n### 1. Add borders around sections\n\nFile: `scripts/lib/ui-renderer.ts` in `renderBoard()` function\n\nCurrently each section just adds items directly to contentScroll. Need to:\n1. Create a container BoxRenderable for each section with border\n2. Add the header and issues inside this container\n\n```typescript\n// Create section container with border\nconst sectionBox = new BoxRenderable(renderer, {\n  id: `board-section-${section.key}-${renderCounter}`,\n  width: \"100%\",\n  flexDirection: \"column\",\n  border: true,\n  borderStyle: \"rounded\",  // or \"single\", \"double\", \"heavy\"\n  borderColor: currentTheme().colors.border,\n  marginBottom: 1,  // Space between sections\n  padding: 1,       // Inner padding\n});\n\n// Add header to section\nsectionBox.add(headerText);\n\n// Add issues to section\nissues.forEach((issue) =\u003e {\n  sectionBox.add(issueCard);\n});\n\n// Add section to scroll\ncontentScroll.add(sectionBox);\n```\n\n### 2. Remove square brackets from badges\n\nFile: `scripts/lib/ui-renderer.ts` lines 657-668\n\nChange:\n```typescript\n// Type badge - line ~660\ncontent: `[${capitalize(issue.issue_type)}]`,\n// To:\ncontent: capitalize(issue.issue_type),\n\n// Priority badge - line ~667\ncontent: `[${getPriorityLabel(issue.priority)}]`,\n// To:\ncontent: getPriorityLabel(issue.priority),\n```\n\n### BoxRenderable Border Options Available\nFrom @opentui/core:\n- `border: true` - Enable border on all sides\n- `border: [\"top\", \"bottom\"]` - Specific sides only\n- `borderStyle: \"single\" | \"double\" | \"rounded\" | \"heavy\"`\n- `borderColor: string` - Color from theme\n- `title: string` - Optional title in border (could use for section name)\n- `titleAlignment: \"left\" | \"center\" | \"right\"`\n\n### Theme Colors Available\n- `currentTheme().colors.border` - Default border color (#484848)\n- `currentTheme().colors.borderFocused` - Focused border color (#fab283)\n\n## Visual Mockup\n```\nâ•­â”€ Blocked (3) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚ Task Medium oak-tui-skill-etdâ”‚\nâ”‚   Wire up Beads tab in...    â”‚\nâ”‚ Task Medium oak-tui-skill-3cqâ”‚\nâ”‚   Create renderBeads() UI... â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\nâ•­â”€ Ready (2) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚ Feature Medium oak-tui-skil..â”‚\nâ”‚   Add Beads issues tab to... â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n```\n\n## Files to Modify\n- `scripts/lib/ui-renderer.ts` - renderBoard() function (lines 588-712)\n\n## Acceptance Criteria\n- [ ] Each section (Blocked, Ready, In Progress, Closed) has a visible border\n- [ ] Section name appears in or near the border\n- [ ] Badges show without square brackets (e.g., `Task` not `[Task]`)\n- [ ] Proper spacing between sections\n- [ ] Border color follows theme","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T15:46:19.380927246+01:00","updated_at":"2026-02-16T15:55:56.939479864+01:00","closed_at":"2026-02-16T15:55:56.939479864+01:00"}
{"id":"oak-tui-skill-kpy","title":"Fix tsgolint errors in theme-manager.ts, beads-manager.ts, search-bar.ts","description":"## Files:\n- scripts/lib/theme-manager.ts (10 errors)\n- scripts/lib/beads-manager.ts (10 errors)\n- scripts/components/search-bar.ts (2 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to params\n- no-unsafe-return/assignment: Type JSON.parse returns\n- strict-boolean-expressions: Handle nullable values\n\n### These are smaller files with fewer errors - good for cleanup","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:22.640535682+01:00","updated_at":"2026-02-17T00:45:34.219450898+01:00","closed_at":"2026-02-17T00:45:34.219450898+01:00"}
{"id":"oak-tui-skill-llc","title":"Auto-refresh Board tab periodically","description":"## Summary\nAdd automatic periodic refresh to the Board tab so it stays up-to-date without manual intervention.\n\n## Current Behavior\n- Board tab only fetches data when switching to the tab\n- No automatic updates while viewing the board\n- User must switch away and back to see changes\n\n## Desired Behavior\n- Board tab auto-refreshes every N seconds (e.g., 5-10 seconds)\n- Optional: Manual refresh key (e.g., `r`) for immediate refresh\n- Optional: Visual indicator during refresh\n\n## Implementation\n\n### 1. Add refresh interval when Board tab is active\n\nIn `worktree-tui.ts`, set up an interval when switching to board tab:\n\n```typescript\nlet boardRefreshInterval: Timer | null = null;\n\nfunction updateContent() {\n  // Clear any existing interval when switching tabs\n  if (boardRefreshInterval) {\n    clearInterval(boardRefreshInterval);\n    boardRefreshInterval = null;\n  }\n\n  // ... existing tab logic ...\n\n  if (activeTab === \"board\") {\n    boardIssues = fetchAndGroupIssues();\n    renderBoard(...);\n    \n    // Set up auto-refresh every 5 seconds\n    boardRefreshInterval = setInterval(() =\u003e {\n      boardIssues = fetchAndGroupIssues();\n      clearContent(ui.contentScroll);\n      renderCounter++;\n      renderBoard(...);\n      renderer.requestRender();\n    }, 5000);\n  }\n}\n```\n\n### 2. Clean up interval on exit\n\n```typescript\nprocess.on('exit', () =\u003e {\n  if (boardRefreshInterval) {\n    clearInterval(boardRefreshInterval);\n  }\n});\n```\n\n### 3. Optional: Add manual refresh key\n\nIn keyboard handler for board tab:\n```typescript\n} else if (keyName === \"r\") {\n  // Manual refresh\n  boardIssues = fetchAndGroupIssues();\n  updateContent();\n}\n```\n\n### 4. Optional: Add refresh indicator\n\nShow a subtle indicator in the footer or board header when refreshing.\n\n## Configuration Options\n- Refresh interval: 5 seconds (could be configurable)\n- Could add to ui-state.json for persistence\n\n## Files to Modify\n- `scripts/worktree-tui.ts` - Add interval logic and cleanup\n\n## Acceptance Criteria\n- [ ] Board tab auto-refreshes every 5 seconds when active\n- [ ] Refresh stops when switching to another tab\n- [ ] No memory leaks (interval properly cleaned up)\n- [ ] Selection state preserved during refresh\n- [ ] Optional: `r` key for manual refresh","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T15:49:28.018306219+01:00","updated_at":"2026-02-16T15:57:52.010710864+01:00","closed_at":"2026-02-16T15:57:52.010710864+01:00"}
{"id":"oak-tui-skill-n6x","title":"Replace board issue type text badges with icon-only colored symbols","description":"## Problem\n\nThe type badges in the board view (\"Feature\", \"Bug\", \"Task\", \"Epic\", \"Chore\") are too prominent and take up visual space. The text is distracting from the issue titles.\n\n### Current State\n\n**Location:** `scripts/lib/ui-renderer.ts` lines 741-747\n\n```typescript\nconst typeBadge = new TextRenderable(renderer, {\n  id: `board-type-${renderCounter}-${flatIndex}`,\n  content: capitalize(issue.issue_type),  // Shows \"Feature\", \"Bug\", etc.\n  fg: getTypeColor(issue.issue_type),\n});\n```\n\n**Current appearance:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Feature                    oak-tui-skill-abc â–²â–² â”‚\nâ”‚ Issue title here...                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Current Colors (keep these!)\n\n| Type | Color | Hex |\n|------|-------|-----|\n| feature | Dimmed green | `#5a9a65` |\n| bug | Dimmed red | `#a65050` |\n| task | Dimmed blue | `#4a7ab0` |\n| epic | Dimmed purple | `#8a5a9a` |\n| chore | Dimmed gray | `#606060` |\n\nDefined in `scripts/lib/beads-manager.ts` lines 293-308 (`getTypeColor()`)\n\n## Desired Behavior\n\nReplace text badges with **icon-only** symbols, keeping the same colors:\n\n| Type | Icon | Color |\n|------|------|-------|\n| feature | âœ¦ (or â˜…) | `#5a9a65` |\n| bug | â— (or ğŸ›) | `#a65050` |\n| task | â—† (or â˜) | `#4a7ab0` |\n| epic | â—ˆ (or â¬¡) | `#8a5a9a` |\n| chore | â—‹ (or âš™) | `#606060` |\n\n**Desired appearance:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ âœ¦                          oak-tui-skill-abc â–²â–² â”‚\nâ”‚ Issue title here...                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Implementation Notes\n\n### Add `getTypeIcon()` function\n\nAdd to `scripts/lib/beads-manager.ts` (follow `getPriorityIcon()` pattern at lines 253-268):\n\n```typescript\nexport function getTypeIcon(type: string): string {\n  switch (type) {\n    case \"feature\":\n      return \"âœ¦\";  // Star/sparkle for new features\n    case \"bug\":\n      return \"â—\";  // Filled circle for bugs\n    case \"task\":\n      return \"â—†\";  // Diamond for tasks\n    case \"epic\":\n      return \"â—ˆ\";  // Double diamond for epics\n    case \"chore\":\n      return \"â—‹\";  // Empty circle for chores\n    default:\n      return \"â—‹\";\n  }\n}\n```\n\n### Update badge rendering\n\nIn `scripts/lib/ui-renderer.ts` lines 741-747, change:\n\n```typescript\n// Before\nconst typeBadge = new TextRenderable(renderer, {\n  id: `board-type-${renderCounter}-${flatIndex}`,\n  content: capitalize(issue.issue_type),\n  fg: getTypeColor(issue.issue_type),\n});\n\n// After\nconst typeBadge = new TextRenderable(renderer, {\n  id: `board-type-${renderCounter}-${flatIndex}`,\n  content: getTypeIcon(issue.issue_type),\n  fg: getTypeColor(issue.issue_type),\n});\n```\n\n### Files to modify:\n- `scripts/lib/beads-manager.ts` - Add `getTypeIcon()` function\n- `scripts/lib/ui-renderer.ts` - Update type badge to use icon instead of text\n\n### Icon alternatives to consider:\n- **feature**: âœ¦ â˜… âœ¨ â—†\n- **bug**: â— ğŸ› âš  âœ•\n- **task**: â—† â˜ â–ª â– \n- **epic**: â—ˆ â¬¡ â—‰ âš¡\n- **chore**: â—‹ âš™ â—Œ Â·","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T22:12:33.665547586+01:00","updated_at":"2026-02-16T22:50:26.861939495+01:00","closed_at":"2026-02-16T22:50:26.861939495+01:00"}
{"id":"oak-tui-skill-pkv","title":"Fix tsgolint errors in project-manager.ts and socket-manager.ts","description":"## Files: \n- scripts/lib/project-manager.ts (22 errors)\n- scripts/lib/socket-manager.ts (17 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to array/object params\n- strict-boolean-expressions: Handle nullable values explicitly\n- prefer-nullish-coalescing: Use ?? instead of ||\n- no-unsafe-return/assignment: Type JSON.parse returns\n\n### Common patterns:\n- debug function params need readonly\n- JSON.parse returns need type assertions\n- Nullable string checks need explicit handling","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:19.29818772+01:00","updated_at":"2026-02-17T00:45:34.222009943+01:00","closed_at":"2026-02-17T00:45:34.222009943+01:00"}
{"id":"oak-tui-skill-qli","title":"Board: Move issue ID to right side next to priority icon","description":"In renderBoard(), move the issue ID from the left side (next to type badge) to the right side (next to priority icon with 1 space gap). Current layout: [Type issue-id ... priority-icon]. New layout: [Type ... issue-id priority-icon]. Implementation: Remove issueId from leftSide, create rightSide BoxRenderable with flexDirection row and gap 1, add issueId and priorityIcon to rightSide, replace priorityIcon with rightSide in badgeLine.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T16:16:30.356014557+01:00","updated_at":"2026-02-16T16:17:01.131541534+01:00","closed_at":"2026-02-16T16:17:01.131541534+01:00"}
{"id":"oak-tui-skill-r7f","title":"Add linting with oxlint and commit hooks with simple-git-hooks","description":"## Overview\nSet up code quality tooling for the project using oxlint (fast Rust-based linter) and simple-git-hooks for pre-commit/commit-msg hooks.\n\n## Tasks\n\n### 1. Install dependencies\n- oxlint (fast Rust-based linter from oxc)\n- oxlint-tsgolint (type-aware TypeScript linting powered by typescript-go)\n- @commitlint/cli and @commitlint/config-conventional\n- simple-git-hooks\n- lint-staged\n\n### 2. Add package.json scripts\n- `prepare`: `simple-git-hooks`\n- `lint`: `oxlint`\n- `lint:fix`: `oxlint --fix`\n- `commitlint`: `commitlint --edit`\n\n### 3. Configure simple-git-hooks in package.json\n```json\n\"simple-git-hooks\": {\n  \"pre-commit\": \"bun lint-staged\",\n  \"commit-msg\": \"bun commitlint --edit $1\"\n}\n```\n\n### 4. Configure lint-staged in package.json\n```json\n\"lint-staged\": {\n  \"*.ts\": [\"oxlint\"]\n}\n```\n\n### 5. Create commitlint.config.js\nUse @commitlint/config-conventional with standard rules for:\n- type-enum (feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert)\n- scope-case (lower-case)\n- subject-empty (never)\n- header-max-length (120)\n- body-leading-blank, footer-leading-blank\n\n### 6. Explore oxlint-tsgolint\nInvestigate enabling type-aware linting via oxlint-tsgolint package (powered by typescript-go).\n\n## Reference\nBased on setup from /home/linux-falko/Dev/movies-deluxe/package.json","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T00:17:32.081955666+01:00","updated_at":"2026-02-17T00:19:28.918752323+01:00","closed_at":"2026-02-17T00:19:28.918752323+01:00"}
{"id":"oak-tui-skill-rk5","title":"Fix @opentui/core API type errors (bold property and KeyHandler.on)","description":"## Problem\n\nThree TypeScript errors in worktree-tui.ts due to incorrect @opentui/core API usage:\n\n### Error 1: Line 256\n```\nObject literal may only specify known properties, and 'bold' does not exist in type 'TextOptions'.\n```\nCode: `bold: activeTab === tab.id` in TextRenderable options\n\n### Error 2: Line 350\n```\nProperty 'bold' does not exist on type 'TextRenderable'.\n```\nCode: `(tabText as TextRenderable).bold = activeTab === tab.id`\n\n### Error 3: Line 465 (actually line 484)\n```\nProperty 'on' does not exist on type 'KeyHandler'. Did you mean to access the static member 'KeyHandler.on' instead?\n```\nCode: `renderer.keyInput.on(\"keypress\", (key) =\u003e {...})`\n\n## Root Cause Analysis\n\n### Bold Property Issues (Errors 1 \u0026 2)\n- TextRenderable extends TextBufferRenderable\n- TextOptions extends TextBufferOptions\n- Neither has a `bold` property\n- Bold styling must be achieved via the `attributes: number` bitmask property\n- Need to find the correct attribute flag for bold text in @opentui/core\n\n### KeyHandler.on Issue (Error 3)\n- KeyHandler extends EventEmitter\u003cKeyHandlerEventMap\u003e\n- EventEmitter should provide .on() method\n- Possible causes:\n  1. TypeScript not recognizing inherited methods\n  2. Need to import EventEmitter types\n  3. May need to use a different event subscription pattern\n\n## Solution Approach\n\n1. **For bold styling**: Replace `bold: true/false` with proper `attributes` bitmask usage. Research @opentui/core for attribute constants (likely BOLD = 1 or similar).\n\n2. **For KeyHandler.on**: \n   - Check if EventEmitter is properly typed\n   - May need to cast or use alternative API\n   - Check @opentui/core examples for correct event handling pattern\n\n## Files to Modify\n- scripts/worktree-tui.ts (lines 256, 350, 484)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T22:59:01.656106783+01:00","updated_at":"2026-02-16T23:16:51.318174902+01:00","closed_at":"2026-02-16T23:16:51.318174902+01:00"}
{"id":"oak-tui-skill-sg1","title":"Fix lint errors in socket-manager.ts and project-manager.ts","description":"## Lint Errors\n\n### socket-manager.ts\n- Unused param 'args' in debug() function (line 11)\n\n### project-manager.ts\n- Unused param 'args' in debug() function (line 17)\n\n## Fix\nPrefix unused params with underscore: `..._args: unknown[]`","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:22:11.633989184+01:00","updated_at":"2026-02-17T00:24:19.020406561+01:00","closed_at":"2026-02-17T00:24:19.020406561+01:00"}
{"id":"oak-tui-skill-tog","title":"Files tab has inconsistent top menu styling (missing bottom gap, full width)","description":"## Summary\nWhen the files tab is active, the top menu/title bar has two styling inconsistencies compared to other tabs:\n1. Missing one-space gap on the bottom of the top menu\n2. The top menu spreads over the full width (not happening on other tabs)\n\n## Current Behavior\n- On the **projects** and **themes** tabs: The top menu has proper spacing and width\n- On the **files** tab: The top menu appears to lose its bottom gap and spreads full width\n\n## Root Cause Analysis\n\n### Issue 1: Missing Bottom Gap\nThe root container has `gap: 1` (ui-renderer.ts:84) which creates spacing between:\n- `titleBox` (top menu)\n- `contentBox` (main content area)\n- `footerBox`\n\nHowever, when the files tab is active, the `searchBox` inside `contentBox` becomes visible with:\n```typescript\n// worktree-tui.ts:266-268\nui.searchBox.visible = true;\nui.searchBox.height = \"auto\";\nui.searchBox.paddingTop = 1;\n```\n\nThe `paddingTop: 1` on the searchBox may be affecting the visual gap calculation, making it appear that the gap between titleBox and contentBox is missing or reduced.\n\n### Issue 2: Full Width Spread\nThe `searchBox` has `width: \"100%\"` (ui-renderer.ts:123), and when it becomes visible, it may influence how the renderer calculates boundaries for the entire `contentBox` and its parent elements, causing a visual rendering artifact where the title area appears to spread differently.\n\n## Relevant Code Locations\n\n| Component | File | Lines | Property |\n|-----------|------|-------|----------|\n| Root gap | `ui-renderer.ts` | 84 | `gap: 1` |\n| Title box | `ui-renderer.ts` | 88-96 | `width: \"100%\"`, `padding: 1` |\n| Content box | `ui-renderer.ts` | 113-119 | `padding: 1` |\n| Search box visibility | `worktree-tui.ts` | 234-236, 266-268 | `visible`, `height`, `paddingTop` |\n| Search box width | `ui-renderer.ts` | 123 | `width: \"100%\"` |\n\n## Potential Fixes\n\n1. **Adjust searchBox paddingTop**: Instead of adding `paddingTop: 1` to searchBox when visible, consider adjusting the contentBox padding or using marginTop on the searchBox\n\n2. **Ensure consistent contentBox padding**: The contentBox has `padding: 1` which should provide consistent spacing. The searchBox's additional `paddingTop: 1` may be creating double spacing in some areas while removing it from others\n\n3. **Review the order of children in contentBox**: Currently searchBox is added after contentScroll (line 157). Consider if the order affects layout\n\n## Acceptance Criteria\n- [ ] Top menu has consistent bottom gap across all tabs\n- [ ] Top menu width is consistent across all tabs\n- [ ] Search box on files tab still has proper spacing from content above","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T15:16:10.849790073+01:00","updated_at":"2026-02-16T15:55:57.941437505+01:00","closed_at":"2026-02-16T15:55:57.941437505+01:00"}
{"id":"oak-tui-skill-u0e","title":"Filter closed issues in board to show only today's closures","description":"## Problem\n\nThe board view currently shows ALL closed issues, which can become cluttered over time. Users typically only care about recently closed issues to track daily progress.\n\n## Current Behavior\n\nIn `scripts/lib/beads-manager.ts`, the `groupIssuesByStatus()` function (lines 39-68) pushes all closed issues to `grouped.closed` without any date filtering:\n\n```typescript\nif (issue.status === \"closed\") {\n  grouped.closed.push(issue);\n}\n```\n\n## Desired Behavior\n\nOnly show closed issues that were closed **today** (based on the current date).\n\n## Implementation Approach\n\n1. In `groupIssuesByStatus()`, add date filtering for closed issues\n2. Use the `updated_at` field from `BeadsIssue` (ISO date string) since that reflects when the status changed to closed\n3. Compare the date portion of `updated_at` with today's date\n\nExample logic:\n```typescript\nif (issue.status === \"closed\") {\n  const closedDate = new Date(issue.updated_at).toDateString();\n  const today = new Date().toDateString();\n  if (closedDate === today) {\n    grouped.closed.push(issue);\n  }\n}\n```\n\n## Files to Modify\n\n- `scripts/lib/beads-manager.ts` - `groupIssuesByStatus()` function (line 51-52)\n\n## Notes\n\n- The `BeadsIssue` interface already has `updated_at: string` field (types.ts:70)\n- This is a simple filter addition, no new dependencies needed","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T23:15:35.452786968+01:00","updated_at":"2026-02-16T23:25:40.420183598+01:00","closed_at":"2026-02-16T23:25:40.420183598+01:00"}
{"id":"oak-tui-skill-x0i","title":"Fix tsgolint errors in tmux-manager.ts","description":"## File: scripts/lib/tmux-manager.ts (27 errors)\n\n### Error types:\n- prefer-readonly-parameter-types: Add readonly to callback params\n- strict-boolean-expressions: Handle nullable strings (oakPaneId, leftPaneId)\n- prefer-nullish-coalescing: Use ?? instead of ||\n\n### Key locations:\n- Lines 20, 22, 26: debug function params\n- Line 59: oakPaneId || getTmuxPaneId()\n- Lines 79, 83, 92, 94, 100: array callback params (p, a, b)\n- Line 141, 193: !leftPaneId checks\n- Lines 214, 300, 352: oakPaneId || getTmuxPaneId()\n- Line 335: currentLeftPaneId check","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-17T00:25:17.285716173+01:00","updated_at":"2026-02-17T00:45:34.222988788+01:00","closed_at":"2026-02-17T00:45:34.222988788+01:00"}
{"id":"oak-tui-skill-x5j","title":"Add Beads issues tab to Oak TUI","description":"## Summary\nAdd a new \"Beads\" tab to Oak TUI that displays beads issues in a kanban-style board layout, similar to the web board view but with columns stacked vertically due to terminal space constraints.\n\n## Screenshot Reference\nThe web board shows 4 columns horizontally: Blocked, Ready, In Progress, Closed\nEach issue card displays:\n- Issue title (truncated with ...)\n- Type badge (Feature, Bug, etc.) with color coding\n- Priority badge (Medium, High, etc.) with color coding  \n- Issue ID (e.g., oak-tui-skill-8bt)\n\n## TUI Adaptation\nDue to terminal width constraints, the horizontal columns must stack vertically:\n```\n== Blocked (0) ==\n(empty)\n\n== Ready (1) ==\n[Feature] [Medium] oak-tui-skill-8bt\n  Allow deleting projects from the recent p...\n\n== In Progress (1) ==\n[Bug] [Medium] oak-tui-skill-tog\n  Files tab has inconsistent top menu stylin...\n\n== Closed (0) ==\n(empty or show recent)\n```\n\n## Implementation Overview\n\n### 1. Update TabId type\nFile: `scripts/lib/types.ts` line 56\nAdd \"beads\" to the TabId union type\n\n### 2. Add to TABS array\nFile: `scripts/worktree-tui.ts` lines 158-162\nAdd `{ id: \"beads\", label: \"Beads\" }`\n\n### 3. Create BeadsIssue interface\nFile: `scripts/lib/types.ts`\n```typescript\ninterface BeadsIssue {\n  id: string;\n  title: string;\n  status: \"open\" | \"in_progress\" | \"blocked\" | \"closed\";\n  priority: number; // 0-4\n  issue_type: \"task\" | \"bug\" | \"feature\" | \"epic\" | \"chore\";\n}\n```\n\n### 4. Create beads data fetching function\nFile: `scripts/lib/beads-manager.ts` (new file)\n- Use `bd list --json` to fetch issues\n- Parse JSON output into BeadsIssue[]\n- Group by status for display\n\n### 5. Create renderBeads() function\nFile: `scripts/lib/ui-renderer.ts`\n- Render 4 vertical sections (Blocked, Ready, In Progress, Closed)\n- Each section has header with count\n- Issue cards show: type badge, priority badge, ID, title\n\n### 6. Add to updateContent()\nFile: `scripts/worktree-tui.ts` in updateContent()\nAdd else if branch for \"beads\" tab\n\n### 7. Add keyboard navigation\nFile: `scripts/worktree-tui.ts`\n- up/down (k/j): Navigate between issues\n- Enter: Show issue details or open in editor\n- r: Refresh issues list\n\n## Color Scheme for Badges\n| Type | Color |\n|------|-------|\n| Feature | Green (#7fd88f) |\n| Bug | Red (#e06c75) |\n| Task | Blue (#5c9cf5) |\n| Epic | Purple (#c678dd) |\n| Chore | Gray (#808080) |\n\n| Priority | Color |\n|----------|-------|\n| P0 (Critical) | Red (#e06c75) |\n| P1 (High) | Orange (#fab283) |\n| P2 (Medium) | Yellow (#e5c07b) |\n| P3 (Low) | Blue (#5c9cf5) |\n| P4 (Lowest) | Gray (#808080) |\n\n## Data Fetching\nUse `execSync` to run:\n```bash\nbd list --json\n```\nThis returns a JSON array with all issue fields needed.\n\n## Acceptance Criteria\n- [ ] New \"Beads\" tab appears in tab bar\n- [ ] Tab shows issues grouped by status (vertical columns)\n- [ ] Each status section shows count in header\n- [ ] Issue cards display type, priority, ID, and title\n- [ ] Keyboard navigation works (up/down/enter)\n- [ ] Colors match the theme\n- [ ] Empty sections show appropriate message","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T15:37:23.195152708+01:00","updated_at":"2026-02-16T15:43:28.489751264+01:00","closed_at":"2026-02-16T15:43:28.489751264+01:00"}
{"id":"oak-tui-skill-y6j","title":"Persist active tab across TUI restarts","description":"## Summary\nWhen the TUI restarts (via hot reload in dev mode or manual restart), it should remember which tab was active and restore it.\n\n## Current Behavior\n- TUI always starts on the Projects tab (`activeTab = 'projects'`)\n- Switching to Board/Files/Themes tab is lost on restart\n\n## Desired Behavior\n- Save the active tab to a persistent file when it changes\n- On startup, read the saved tab and restore it\n- Fall back to 'projects' if no saved state exists\n\n## Implementation\n\n### Storage Location\nUse the existing data directory: `~/.local/share/git-worktree-manager/`\nAdd a new file: `state.json` or `ui-state.json`\n\n### Data Structure\n```json\n{\n  \"activeTab\": \"board\"\n}\n```\n\n### Changes Required\n\n#### 1. Add save function in worktree-tui.ts or new state-manager.ts\n```typescript\nfunction saveUIState(state: { activeTab: TabId }) {\n  const statePath = join(DATA_DIR, 'ui-state.json');\n  writeFileSync(statePath, JSON.stringify(state, null, 2));\n}\n```\n\n#### 2. Add load function\n```typescript\nfunction loadUIState(): { activeTab: TabId } | null {\n  const statePath = join(DATA_DIR, 'ui-state.json');\n  try {\n    const data = readFileSync(statePath, 'utf-8');\n    return JSON.parse(data);\n  } catch {\n    return null;\n  }\n}\n```\n\n#### 3. Call saveUIState when tab changes\nIn the tab switching logic (keyboard Tab key and mouse click on tabs):\n```typescript\nactiveTab = newTab;\nsaveUIState({ activeTab });\nupdateContent();\n```\n\n#### 4. Load state on startup\n```typescript\nconst savedState = loadUIState();\nlet activeTab: TabId = savedState?.activeTab ?? 'projects';\n```\n\n### Validation\n- Validate that loaded tab ID is valid (exists in TABS array)\n- Fall back to 'projects' if invalid\n\n## Acceptance Criteria\n- [ ] Active tab is saved when switching tabs\n- [ ] Active tab is restored on TUI restart\n- [ ] Invalid/missing state falls back to 'projects'\n- [ ] Works with hot reload in dev mode","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-16T15:43:55.760592257+01:00","updated_at":"2026-02-16T15:59:38.321585412+01:00","closed_at":"2026-02-16T15:59:38.321585412+01:00"}
